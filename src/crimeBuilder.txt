/* Builder file to connect different crime stastics*/

PRAGMA foreign_keys=on;

DROP TABLE EMSData;
CREATE TABLE EMSData (
    service VARCHAR NOT NULL, 
    priority VARCHAR NOT NULL,
    prioriry_desc VARCHAR NOT NULL,
    call_year INTEGER NOT NULL,
    description_short VARCHAR NOT NULL,
    city_name VARCHAR NOT NULL,
    geoid int
); 

INSERT INTO EMSData VALUES(1, "EMS", "E2", "EMS Standard Advanced Life Support response",
2020, "Removed", "PITTSBURGH", 420035631002037);

DROP TABLE NeighborhoodData; 
CREATE TABLE NeighborhoodData (
    GEOID INTEGER NOT NULL, 
    Municipality VARCHAR NOT NULL,
    Pittsburgh Neighborhood VARCHAR NOT NULL,
    Total Pop 2014-2018 INTEGER NOT NULL,
    White Pop Rate 2014-2018 INTEGER NOT NULL,
    Black Pop Rate 2014-2018 INTEGER NOT NULL,
    His or Lat Pop Rate 2014-2018 INTEGER NOT NULL,
    Family Poverty Rate 2014-2018 INTEGER NOT NULL,
    Rate of Single Mothers 2014-2018 INTEGER NOT NULL,
    Rate of those 25 and up without at least Bachelor's 2014-2018 INTEGER NOT NULL,
    Median Home Value 2014-2018 INTEGER NOT NULL,
    Level of Need VARCHAR NOT NULL
);


DROP TABLE PennsylvaniaData;
CREATE TABLE PennsylvaniaData (
    City VARCHAR NOT NULL,
    Population INTEGER NOT NULL,
    Violent-crime INTEGER NOT NULL,
    Murder-and-nonnegligent-manslaughter INTEGER NOT NULL,
    Rape, INTEGER NOT NULL,
    Robbery, INTEGER NOT NULL,
    Aggravated-assault, INTEGER NOT NULL,
    Property-crime INTEGER NOT NULL,
    Burglary, INTEGER NOT NULL,
    Larceny-theft INTEGER NOT NULL,
    Motor-vehicle-theft, INTEGER NOT NULL,
    Arson, INTEGER NOT NULL
);



/* Separating data */
.separator ","

/* Importing data files and loading them into sqlite3 */ 
.import data/911_Data.csv EMSData
.import data/Neighborhood.csv NeighborhoodData
.import data/pennsylvania.csv PennsylvaniaData

/* How to run this builder */
/* cat crimeBuilder.txt | sqlite3 community.sqlite3 */